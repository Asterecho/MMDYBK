> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.bilibili.com](https://www.bilibili.com/read/cv15281069?from=search&spm_id_from=333.337.0.0)

> 序言当你导入好模型之后，那么就要进行对材质的处理了，一般主流的材质风格有两种：一种是 PBR（就是原理化，意思就是真实感材质）另一种就是 NPR（就是非原理化，意思就是非真实感材质）由于 Cycles 渲染器对 NPR 材质支持较少（指只有一个卡通材质节点），我们这里的渲染器只用 Eevee 即可。

当你导入好模型之后，那么就要进行对材质的处理了，一般主流的材质风格有两种：

*   一种是 **PBR**（就是原理化，意思就是真实感材质）
    
*   另一种就是 **NPR**（就是非原理化，意思就是非真实感材质）
    

由于 Cycles 渲染器对 NPR 材质支持较少（指只有一个卡通材质节点），我们这里的渲染器只用 **Eevee** 即可。

![](http://i0.hdslb.com/bfs/article/71bf2cd56882a2e97f8b3477c9256f8b09f361d3.png)

Blender 的 PBR 材质，就是靠着**原理化 BSDF**（**Principled BSDF**）实现的，它拥有着标准 PBR 需要的参数，比如高光、金属度等参数，这些都是可以人为修改的，而且可以直接用贴图来连接，另外，PBR 是一种标准，你可以在网上找到很多 PBR 贴图，用起来十分方便。

分离好材质之后，转到 “**Shading**” 布局，这时候屏幕会出现一个 3D 视图，下面会出现着色器编辑器，3D 视图会换成材质预览模式，选择需要修改的材质部分，这里以脸部为例。

![](http://i0.hdslb.com/bfs/article/5fbbc0021b383b3785648136bf7e527e61b4f7f4.png@942w_492h_progressive.webp)

这时下面的着色器编辑器就会出现脸部的材质了，MMD 插件原生的材质并不是 PBR，在**上一篇文章**有讲到更换材质节点的过程。

一般来说，脸部的肌肉通常都会有透光，所以我们需要给材质添加透光的参数，在原理化节点有一个**次表面**（**SSS**），那个就是控制模型透光的参数了，我们把**次表面**调成 **0.1**，这时候就会发现模型就有一种透光的效果了。

![](http://i0.hdslb.com/bfs/article/b49f44b5f4329b88589ea37452df5bbd6b5a85cd.png@942w_663h_progressive.webp)

这时候会发现脸部有一点发白，只要把材质节点的 “次表面颜色” 改红就可以了，或者可以连接一个混合了模型贴图的**混合 RGB** 节点，这时候的脸就没有那么白了。

![](http://i0.hdslb.com/bfs/article/6292f2dee3dd5c9e034c8fbb4a9fe1efd0fe8624.png@942w_657h_progressive.webp)

接下来是高光，物体一般的高光值都是 **0.5**，但是像皮肤这种透光的材质，会吸收一点光线，所以我们要把高光值调低一些，比如 0.43 左右就可以了，如果是沾了水的皮肤的话，那么高光就要调高一些，比如 0.7-1 左右。

然后就是糙度（粗糙度），如果皮肤干燥的话就保持 0.5，如果有水分或者油渍的话就稍微改低一些，比如 0.3-0.4 左右，如果是沾了水的皮肤的话，那么粗糙度就应该改成 0.1-0.2 左右了。

接下来就是法向，对于动漫模型来讲，皮肤之类的材质不建议对法向做细节，如果执意要加，可以添加一个皮肤的法线贴图。

接下来是头发，我们选中之后，先把头发的高光染色改成 1，然后把头发的粗糙度改成 0.4 左右。

现在给头发添加法向细节，有现成的头发贴图是最好的，但是如果没有的话，那我们就只能用噪波纹理制作一个了。

像图中一样添加纹理坐标和映射节点，映射的矢量要连 UV，然后**把映射缩放的 X 轴改成 150**，并且连上噪波纹理的矢量，噪波纹理的缩放改成 **25**，然后添加一个凹凸节点，把噪波纹理的系数连到凹凸的高度上面，再把凹凸的强度改成 **0.2**，就可以连上原理化的法向了，效果就像下面的图片一样。

![](http://i0.hdslb.com/bfs/article/a308606ab589082216cddd322140c0bc91f7b64a.png@942w_684h_progressive.webp)

接下来就是衣物的材质，选择衣物之后，先把粗糙度改成 **0.7** 左右，然后再把光泽度改成 3-5 左右，然后就是添加法向细节，这个可以直接去网上找一张衣服的法线贴图就可以了，注意的是，要把导入 Blender 的法线贴图的色彩空间改成**线性**或者 **Non-color**，这样法线贴图才能正常使用。

![](http://i0.hdslb.com/bfs/article/6c1eea98925658f2de56a49a4da52fe8fb29fe31.png@942w_687h_progressive.webp)

接下来是金属的材质，选择金属之后，把金属度改成 1 即可，或者连上金属度贴图。

![](http://i0.hdslb.com/bfs/article/71bf2cd56882a2e97f8b3477c9256f8b09f361d3.png)

因为 PBR 已经成为了标准，所以使用起来十分快捷简单，但是 NPR 不是如此，因为这种材质没有一个标准，也就说明了 NPR 材质的使用难度要比 PBR 难，但其实上手起来也没有那么困难的哦~

这里的 NPR 主要是指**卡通材质**（**三渲二**）。

首先还是脸部材质，大多数动漫人物的脸看起来都像是一个平面，我们这里也要对模型改一下下，首先在脸部添加一个**空物体**，缩放到合适的大小（这一步只是为了方便操作，跟改模型没有实际关系），

![](https://i0.hdslb.com/bfs/article/53f567d71330d1499c4c424d8807c572cd338e55.png@942w_372h_progressive.webp)

给空物体添加一个**复制位置**的**物体约束**，空物体约束的目标是模型的骨骼，下面的骨骼就选中模型头部的骨骼就可以了。

![](http://i0.hdslb.com/bfs/article/555baf39f53a34ba7e0489367b7a8a7d3df8ea7c.png@489w_768h_progressive.webp)

然后选中脸部，添加一个 “**法线编辑**” 修改器，选中刚才那个空物体即可，这时候模型的脸就会变平了。要注意的是，法线编辑修改器的优先级是最高的，意思就是要把这个修改器放到**最下面**，就像图中修改器的顺序一样。

![](http://i0.hdslb.com/bfs/article/73609e3e8c116e0e873a162f12b1e6ebabc30756.png@942w_548h_progressive.webp)

处理好脸部之后，我们需要给脸部制作卡通材质，但是在制作材质之前，需要注意以下两点：

1.  场景**只有一个**主光源
    
2.  **提前烘焙**好间接光照明
    

第一点的意思就是场景**只能有一个灯**，第二点的意思就是**烘焙好间接光**，防止影响模型阴影。

要想烘焙间接光照明，我们直接添加一个**立方盒反射**和一个**辐射体积**，

![](http://i0.hdslb.com/bfs/article/0c0a3ff2d86864c3609aa5c3c9f2cdb2463f3513.png@717w_851h_progressive.webp)

然后转到屏幕右边的渲染选项卡，点击间接光照明来烘焙间接光，看电脑配置来选择烘焙参数，需要注意的是烘焙的时候很吃占用。

![](http://i0.hdslb.com/bfs/article/9e4fe2ae893890ce70613a60b406a67f0bfe47fe.png@431w_684h_progressive.webp)

烘焙好之后你会发现修改环境光对模型的光照没有作用了，这是因为程序烘焙了模型的环境光，这样做可以用来添加其他的环境纹理，而不影响模型的光照。

一切就绪之后，就可以制作卡通材质了。

卡通材质的核心，就是一个叫做 “**Shader to RGB**” 的节点，这个节点可以把着色器节点转换成颜色，从而起到混合材质的作用。

![](http://i0.hdslb.com/bfs/article/c8542b11ddd9044c9a1df543269ba82ce63fe81b.png@942w_375h_progressive.webp)

首先选择脸部，删掉多余的节点，添加 Shader to RGB 节点，然后添加一个原理化节点，并且连接起来，然后在 Shader to RGB 节点之后添加一个**颜色渐变**，把颜色渐变的插值改成 “**常值**” 然后连接到着色器输出，调整一下颜色渐变就可以了。

![](http://i0.hdslb.com/bfs/article/fd1ee128996ffdf18ba9aa2ff29ff2eb684f37bb.png@942w_683h_progressive.webp)注意要把阴影尺寸调高，并且打开灯光的接触阴影

然后添加一个混合着色器节点，把颜色渐变连到混合着色器节点的系数，连接两个原理化节点，**暗处节点要连到上面**，**亮处节点要连到下面**。暗处节点的颜色要混合一个暗色才行。

![](http://i0.hdslb.com/bfs/article/bc366919a6ba31f1d3fa18b05aab046cf2ab0597.png@942w_437h_progressive.webp)

这就是整个卡通材质的基本节点，当然你可以像别的材质一样添加更多细节（法向除外），比如 SSS，高光等。

另外，卡通的头发一般会有一个高光，我们可以使用一个**菲涅尔 + 切向**的组合来实现，就像图中一样：

![](http://i0.hdslb.com/bfs/article/1e24a44038a1d38165d70718bd2a8bce010abc1b.png@942w_477h_progressive.webp)注意高光色的 V 值是 3

然后把这个混合过的颜色连到亮色节点的颜色就可以了，当然你也可以混合一个噪波纹理，让它看着更好看一些：

![](http://i0.hdslb.com/bfs/article/08b4c5715faa219b3cc6cb75682b82c8b5a4f4b2.png@942w_426h_progressive.webp)

效果就像是这样：

![](http://i0.hdslb.com/bfs/article/2a96accdd5b5d5a854fd9808bacd790c14845946.png@942w_536h_progressive.webp)

关于其他材质的话，使用标准的卡通节点就可以解决了，因为卡通材质的核心就是 Shader to RGB 节点，混合其他的材质节点也是可以的，这里鼓励大家去混合别的节点试一试哦~

这下材质的处理也就完成了，快去做一个心仪的视频吧~