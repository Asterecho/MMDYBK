> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.bilibili.com](https://www.bilibili.com/read/cv15249217?from=search&spm_id_from=333.337.0.0)





 花了大概 4 天时间，我学习了一下 MMD 的入门教程（视频传送门：BV1H54y157Tf），配套的练习文件在该视频评论区自取。

       **花了大概 4 天时间，我学习了一下 MMD 的入门教程（视频传送门：[BV1H54y157Tf](https://www.bilibili.com/video/BV1H54y157Tf?from=articleDetail)），配套的练习文件在该视频评论区自取。根据个人的理解，我**在边学边做的同时**整理了一些比较重要的笔记。可能对新手会有些帮助，如果是大佬的话欢迎在评论区提提意见。我不是专栏区 up 主，文笔很差，望各位读者多多包涵。**

**一、构成**

MMD 视频由模型、动作、镜头、场景、音乐构成。

模型包含主体和配件，动作包含主体和配件。例如人物（主体）和扇子（配件）。

1）包含关系：音乐→镜头→场景→动作→模型，故添加音乐的步骤一般放最后。

2）MME：MMD 的插件，用于处理特效。不同的插件可以实现不同的效果。

3）借物表 “六要素 "：音乐、模型、动作、镜头、场景、MME。

**二、鼠标**  

左键用于菜单栏和工具栏的一系列操作。

右键沿坐标轴调整模型角度，中键平移模型空间。

**三、键盘快捷键**

1）Tab：视角切换（照明 / 模型）。

2）A：全选模型 /S: 取消选择。

3）X：旋转，然后用鼠标左键点模型下面的 “+” 进行操作。

4）Ctrl+Z：撤销。

5）P：播放，再按 P 停止播放。

6）视点（键盘上数字），相对模型方向依次为：5（顶部）、2（正面）、4（左侧）、6（右侧）、8（背面）、1（底部）。

7）Alt 键：查看工具栏上的快捷键，对新手很友好。

8）B：背景全黑，再按 B 取消。

**四、****MMD** **视频的基本步骤（以人拿扇子跳舞为例，五、六同理）**

1）导入人物模型（主体）、然后导入人物动作。

2）导入扇子（配件）、然后导入扇子动作。

3）绑骨（配件模型绑定外部人物模型的指定部位）：

在 “模型操作” 中选择 “扇子” 模型，点击“外”，弹出窗口。对象骨骼选择下拉菜单中第三个，外部亲模型选人物模型，外部亲姿势选“右中指 1”（根据实际情况可以调整）。点击 “注册”，保存当前操作。（“注册” 含义为保存，用于保存当前操作和 K 帧） 

4）导入场景（场景和人物顺序可以换，前 4 步作为渲染前期的准备工作）

5）渲染：n 渲、t 渲、G 渲、ik 渲、ray 渲，ray 渲是国内常用的渲染方式。

渲染步骤（以 ray 渲为例）：

1. 调整模型绘制顺序（从上到下）：天空盒、场景、人物、扇子

该功能在菜单栏的 “工具” 中。

2. 导入 ray 控制器（在 “ray-mmd-1.5.1” 文件夹中）：“ray.x”、“ray-controller.pmx” 导入天空盒：ray-mmd-1.5.1 文件夹→Skybox 文件夹→Time of Day 文件夹，找到 “Time of Day.pmx” 这个文件。根据实际需要，天空盒可以自由选择。

（导入操作：直接把文件拖到模型窗口中）

3. 点右上角 “MMEffect”，然后点下拉菜单第一项。这时弹出窗口，窗口中的每一栏对应每一个文件夹。

①Main 用来赋材质（在 main 文件夹中的 main.fx 文件拖入窗口 main 栏的场景、人物和扇子中）

②EnvLightMap 用来打光（在 Skybox 文件夹中的 Time of Lighting.fx 文件拖入窗口

EnvLightMap 栏的 “Time of day.pmx”）

4. 关闭背景虚化（如果想要虚化效果可跳过这一步）：模型操作选 ray-controller ，表情操作里找到 “FocalLength-”，滑条拉到最大。

以上 4 步完成渲染初期的所有工作。

6）材质和打光（渲染的深化，具体场景需要具体分析），参数介绍详第五点。

7）添加插件，根据自己喜好调整参数，增加特殊效果。

8）添加喜欢的镜头，然后添加喜欢的音乐。

9）渲染和视频的导出，可以用小丸工具箱对视频进行压缩。字幕可以放 PR 加，记得在视频结尾或简介里补充借物表。

**五、材质和打光**

1）自发光（ray-mmd-1.5.1 文件夹→Materials 文件夹→Emissive 文件夹）

在 MMEffect 的 MaterailMap 栏中进行添加。

Fixed color Blink 表示闪烁，×1、×2、×4 分别表示闪烁的频率（由低到高）

Fixed color 表示不闪烁，×1、×2、×4 分别表示亮度的倍数（由暗到亮）

2）插件的自发光（插件→AutoLuminous4 文件夹→AutoLuminous.x 文件）

把文件拖进模型窗口即可

3）给没有发光的材质强行上发光材质：MMEffect 中的 AL_EmitterRT 栏中，找到那些材质，点击解除后呈现发光效果，再点击解除恢复原状。

4）皮肤的材质更换（ray-mmd-1.5.1 文件夹→Materials 文件夹）

对皮肤、衣服和头发材质进行编辑，多试试就知道了。

皮肤：Skin→TDA→ material_TDA_body.fx 文件，做出白里透红的感觉。

衣服上的装饰可以采用金属材质，头发材质可以采用 SSS 材质。

5）打光（以点光源为例）：ray-mmd-1.5.1→Lighting→SpotLight.pmx

将文件拖入场景后，可以对光源进行旋转和移动，也可以调整光源范围、强度、衰减度等。

6）环境吸收 SSAO（周围环境光的影响）：MMEffect 中的 SSAOMap 栏

ray-mmd-1.5.1→Shadow→带 SSAO 的文件

一共 11 种 SSAO 文件，其中 1.0 为最强（阴影局部变深）。

人物整体一般给 0.7 或 0.8；眼睛一般给 0-0.5，调低后眼睛会更清晰。

7）PSSM：摄像机照射的方位对人物造成的阴影效果（一般很少用）。

**六、法线贴图**

1）找到对应模型文件夹里的材质

2）用 PS 打开，滤镜→3D→生成法线图→另存为 png 格式的法线贴图（名称用英文，否则会报错）

3）复制文件：Materials 文件夹→material_2.0.fx/material_common_2.0.fxsub，复制这两个文件，粘贴到对应模型文件夹里，“material_2.0.fx” 文件名可以改为法线贴图的文件名称，以便区分。fx 文件可以有多个，一个 fx 文件对应一个法线贴图；fxsub 文件只要一个。

4）用记事本打开 fx 文件，先找到#define NORMAL_MAP_FROM 0，把 0 改成 1（0 为关闭，1 为打开）。然后找到#define NORMAL_MAP_FILE"normal.png"，拷贝法线图的文件名（包括后缀），粘贴替换 "normal.png"。

5）点击 MMEffect，找到 MaterialMap 这一栏，用修改好的 fx 文件对人物的材质（例如衣服）进行替换。

6）修改材质参数：

1.normalMapScale 反映材质凹凸程度，数值越大凹凸越明显。

2.SMOOTHNESS 反映材质平滑程度，数值越大越平滑。

3.METALNESS 用来调金属材质。

4. 其他用得不多，感兴趣的话可以自己去尝试一遍。

 **七、基本插件**

**1****）****AutoLuminous4****：自发光插件（操作步骤前面有笔记，这里就不再赘述）**

2）CheapLens：模糊类插件（x 文件拖入模型，模型窗口四个边带模糊并且有暗影，类似于从望远镜里看到的效果）

3）ColorGrading：颜色分级和色彩调整（x 和 pmx 文件都要拖进模型里，可以对颜色进行细调）

4）Debug：内部调试（pmx 文件拖入模型，可以调整光、透明通道、阴影、环境吸收等参数）

**5****）****Diffusion7****（****x** **文件拖入模型，场景变得比较柔和，解决模型棱角明显的问题）**

6）DummyScreen：一种 dummyLED 光影必须依赖的屏幕效果（背景做成屏幕效果，用的不多）

7）FilmGrain：添加背景噪点（x 和 pmx 文件都要拖进模型里）

8）FXAA/SMAA：抗锯齿插件

**9****）****OpticalFlares****（****x** **文件拖入模型，例如太阳的光晕效果让画面更有真实感，插件中的其他效果也可以去试试）**

10）LightBloom：泛光插件（x 和 pmx 文件都要拖进模型里）

11）Spectrum：音频可视化

12）StereoImage：模仿 VR 效果

13）tk_grid_floor/ WorkingFloorAL：地板效果（x 文件拖入模型）

**【写在结尾】可能有人会问我为什么要学习 MMD。首先我对 MMD 比较感兴趣吧，虽然以前没做过但有看过这类视频。然后我对之前的一些视频数据不太满意，例如拜年纪的单品做了很久但没能达到预期目标（如果没有官方和主催的支持可能连 100 播放都没有），还有以前的几个混剪做了很久但都无人问津。最近这段时间，整个人处于一种比较低落和压抑的状态，屡次反思过自身的问题但同时也有几次不甘心。因为个人工作所属的行业目前正在走下坡路，所以需要做好一定的心里准备，以后可能会考虑做一名全职 up 主。**
